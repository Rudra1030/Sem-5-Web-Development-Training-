<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Sets the document type and language for accessibility and proper parsing -->
  <meta charset="UTF-8"><!-- Declares UTF-8 so characters render correctly -->
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Ensures responsive scaling on mobile -->
  <title>Animated Multiplication Tables • Odd/Even Split</title><!-- Page title shown in the browser tab -->

  <style>
    /* ------------- CSS VARIABLES AND BASES ------------- */
    :root { /* Defines CSS custom properties for consistent theming */
      --primary:#2563eb; /* Brand blue for accents */
      --bg:#0b1020; /* Dark gradient base */
      --bg2:#0f172a; /* Secondary dark shade */
      --card:#0b1226; /* Card background */
      --text:#e5e7eb; /* Main text color */
      --muted:#94a3b8; /* Muted text color */
      --accent:#1f2a44; /* Subtle borders */
      --odd:#f59e0b; /* Odd pill color */
      --even:#60a5fa; /* Even pill color */
      --success:#22c55e; /* Success/OK green */
      --danger:#ef4444; /* Danger/red for warnings */
      --shadow:0 10px 30px rgba(2, 6, 23, .6); /* Soft drop shadow */
    }

    /* Global base styles for visual polish and legibility */
    html, body { height: 100%; background: radial-gradient(1200px 700px at 10% 0%, #0b1b3b 0%, #0b1020 35%, #070b16 100%) fixed; color: var(--text); }
    body { margin:0; font-family: Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial; line-height:1.55; }

    /* ------------- DECORATIVE BACKGROUND ANIMATION ------------- */
    .orbs { /* Positioned animated background particles for motion depth */
      position: fixed; inset: 0; pointer-events: none; z-index: 0;
      background: radial-gradient(600px 300px at 10% 10%, rgba(37,99,235,.12), transparent 60%),
                  radial-gradient(600px 300px at 90% 75%, rgba(244,114,182,.10), transparent 60%);
      animation: drift 22s ease-in-out infinite alternate; /* Slowly drifts gradients */
    }
    @keyframes drift {
      from { filter: hue-rotate(0deg) saturate(110%); transform: translateY(0) scale(1); }
      to   { filter: hue-rotate(30deg) saturate(120%); transform: translateY(-10px) scale(1.02); }
    }

    /* ------------- HEADER WITH SHIMMER ------------- */
    header { position: relative; text-align:center; padding: 32px 16px 12px; z-index: 1; }
    header h1 { /* Main heading with subtle sheen animation */
      margin:0 0 8px; font-weight: 900; letter-spacing: 0.3px; font-size: clamp(24px, 4vw, 36px); color:#dbeafe;
      background: linear-gradient(90deg, #dbeafe 0%, #93c5fd 25%, #60a5fa 50%, #93c5fd 75%, #dbeafe 100%);
      -webkit-background-clip: text; background-clip: text; color: transparent;
      animation: shimmer 4.5s linear infinite; /* Moves gradient to create shimmer */
      background-size: 200% auto; /* Extends gradient width for movement */
    }
    @keyframes shimmer {
      from { background-position: 0% 50%; }
      to   { background-position: 200% 50%; }
    }
    header p { margin:0; color: var(--muted); }

    /* ------------- LAYOUT WRAPPER ------------- */
    .wrap { max-width: 1100px; margin: 18px auto 60px; padding: 0 16px; position: relative; z-index: 1; }

    /* ------------- CARDS WITH ENTRANCE ANIMATION ------------- */
    .card {
      background: linear-gradient(180deg, rgba(13, 19, 40, .85), rgba(13, 19, 40, .72));
      border: 1px solid var(--accent);
      border-radius: 16px;
      box-shadow: var(--shadow);
      padding: 18px;
      margin-bottom: 18px;
      transform: translateY(20px); opacity: 0; /* Start off-screen for reveal */
      animation: cardIn .7s ease forwards; /* Animate into view */
    }
    @keyframes cardIn {
      from { transform: translateY(22px) scale(.98); opacity: 0; filter: blur(2px); }
      to   { transform: translateY(0)   scale(1);    opacity: 1; filter: blur(0); }
    }

    /* Grid for responsive layout of inputs and tables */
    .grid { display: grid; gap: 16px; }
    @media (min-width: 960px) { .grid.two { grid-template-columns: 1fr 1fr; } }

    /* ------------- FORM CONTROLS WITH FOCUS ANIMATION ------------- */
    label { font-weight: 800; display:block; margin-bottom: 8px; color:#c7d2fe; }
    .row { display:flex; gap: 10px; align-items:center; }
    input[type="number"] {
      width:100%; padding:12px 12px; border:1px solid var(--accent); border-radius:10px; font-size:16px; color:var(--text);
      background:#0a1123; transition: border-color .2s, box-shadow .2s, transform .08s; outline:none;
    }
    input[type="number"]:focus {
      border-color:#60a5fa; box-shadow: 0 0 0 4px rgba(96,165,250,.15); transform: translateY(-1px); /* Lift on focus */
    }

    /* ------------- BUTTON WITH PULSE AND PRESS FEEDBACK ------------- */
    .actions { text-align:center; margin-top: 6px; }
    button {
      background: linear-gradient(45deg, #2563eb, #22c55e); color:#fff; border:none; padding:12px 20px; border-radius:12px;
      font-size:16px; cursor:pointer; box-shadow: 0 6px 22px rgba(34,197,94,.25), 0 6px 22px rgba(37,99,235,.25);
      position: relative; isolation: isolate; overflow: hidden;
      animation: pulse 2.4s ease-in-out infinite; /* Gentle attention pulse */
    }
    button::after { /* Ripple shine overlay on hover */
      content:""; position:absolute; inset:0; background: radial-gradient(200px 60px at var(--mx, -100px) var(--my, -100px), rgba(255,255,255,.18), transparent 60%);
      transition: opacity .25s; opacity: .0; pointer-events:none;
    }
    button:hover::after { opacity: 1; } /* Show shine when hovering */
    button:active { transform: translateY(1px) scale(.995); } /* Subtle press feedback */
    @keyframes pulse {
      0%, 100% { filter: brightness(1); box-shadow: 0 6px 22px rgba(34,197,94,.22), 0 6px 22px rgba(37,99,235,.22); }
      50% { filter: brightness(1.07); box-shadow: 0 10px 28px rgba(34,197,94,.32), 0 10px 28px rgba(37,99,235,.32); }
    }

    /* ------------- TABLES WITH ROW CASCADE ANIMATION ------------- */
    h2 { margin: 6px 0 10px; color:#93c5fd; }
    table { width:100%; border-collapse: collapse; border:1px solid var(--accent); border-radius:12px; overflow:hidden; }
    th, td { padding: 10px 12px; border-bottom: 1px solid var(--accent); text-align:center; font-weight:700; color:#e2e8f0; }
    thead th { background: linear-gradient(180deg, #0e1b36, #0a1428); color:#c7d2fe; }
    tbody tr { transform: translateY(6px); opacity: 0; } /* Hidden before cascade */
    tbody tr.show { animation: rowIn .5s ease forwards; } /* Each row will get animated in */
    @keyframes rowIn {
      from { transform: translateY(8px); opacity: 0; filter: blur(1.5px); }
      to   { transform: translateY(0);   opacity: 1; filter: blur(0); }
    }
    tbody tr:nth-child(even) td { background: rgba(255,255,255,.02); } /* Zebra striping for readability */

    /* ------------- PILLS WITH POP-IN ANIMATION ------------- */
    .pill {
      display:inline-block; padding:7px 12px; border-radius:999px; font-weight:800; margin:6px 8px 0 0; letter-spacing:.1px;
      transform: scale(.9) translateY(4px); opacity: 0; border:1px solid rgba(255,255,255,.12);
    }
    .pill.odd { background: rgba(245,158,11,.18); color:#fde68a; }
    .pill.even { background: rgba(96,165,250,.18); color:#bfdbfe; }
    .pill.show { animation: pop .35s cubic-bezier(.22,1.2,.36,1) forwards; } /* Springy pop-in */
    @keyframes pop {
      0% { transform: scale(.8) translateY(8px); opacity: 0; }
      60% { transform: scale(1.05) translateY(0); opacity: .95; }
      100% { transform: scale(1) translateY(0); opacity: 1; }
    }

    /* ------------- SCROLL-TRIGGERED REVEALS ------------- */
    .reveal { opacity: 0; transform: translateY(16px); }
    .reveal.visible { animation: reveal .7s ease forwards; }
    @keyframes reveal {
      from { opacity:0; transform: translateY(16px); filter: blur(2px); }
      to   { opacity:1; transform: translateY(0);     filter: blur(0); }
    }

    /* Muted/informational text */
    .muted { color: var(--muted); font-style: italic; }
  </style>
</head>
<body>
  <!-- Animated gradient orbs in the background for visual depth -->
  <div class="orbs"></div>

  <!-- Header with shimmering title and subtitle -->
  <header class="reveal">
    <h1>Animated Tables → Odd / Even</h1>
    <p>Enter a number like 2. The app auto-generates its multiplication table with loops, adds animations, and splits products into Odd and Even.</p>
  </header>

  <!-- Main content wrapper -->
  <div class="wrap">
    <!-- Input controls card -->
    <div class="card grid two reveal">
      <!-- First number and optional custom range -->
      <div>
        <label for="n1">Number 1</label>
        <div class="row">
          <input id="n1" type="number" placeholder="e.g., 2" min="0"><!-- User enters first multiplicand -->
          <input id="r1" type="number" placeholder="Range (default 10)" min="1"><!-- Optional max multiplier -->
        </div>
      </div>

      <!-- Second number and optional custom range -->
      <div>
        <label for="n2">Number 2 (optional)</label>
        <div class="row">
          <input id="n2" type="number" placeholder="e.g., 3" min="0"><!-- Second multiplicand is optional -->
          <input id="r2" type="number" placeholder="Range (default 10)" min="1"><!-- Optional max multiplier -->
        </div>
      </div>

      <!-- Action button that will generate tables and start animations -->
      <div class="actions" style="grid-column:1 / -1;">
        <button id="build">Generate Tables + Animate</button><!-- Clicking triggers JS to compute and animate -->
      </div>
    </div>

    <!-- Two tables side by side -->
    <div class="grid two">
      <!-- First table card -->
      <div class="card reveal">
        <h2>Table of <span id="label1" class="muted">—</span></h2><!-- Shows selected number or placeholder -->
        <table id="t1">
          <thead><tr><th>#</th><th>Expression</th><th>Result</th></tr></thead><!-- Table headers -->
          <tbody></tbody><!-- JS will insert animated rows here -->
        </table>
      </div>

      <!-- Second table card -->
      <div class="card reveal">
        <h2>Table of <span id="label2" class="muted">—</span></h2><!-- Shows selected number or placeholder -->
        <table id="t2">
          <thead><tr><th>#</th><th>Expression</th><th>Result</th></tr></thead><!-- Table headers -->
          <tbody></tbody><!-- JS will insert animated rows here -->
        </table>
      </div>
    </div>

    <!-- Odd/Even output cards -->
    <div class="grid two">
      <div class="card reveal">
        <h2>Odd Numbers</h2><!-- Section title -->
        <div id="odd" class="muted">Awaiting input…</div><!-- JS will render animated pills here -->
      </div>
      <div class="card reveal">
        <h2>Even Numbers</h2><!-- Section title -->
        <div id="even" class="muted">Awaiting input…</div><!-- JS will render animated pills here -->
      </div>
    </div>
  </div>

  <script>
    // Updates the CSS custom properties for the mouse position to drive button shine
    document.addEventListener('mousemove', (e) => { // Listen to mouse movement
      const target = e.target.closest('button'); // Finds button under cursor to limit updates
      if (target) { // If hovering a button
        const rect = target.getBoundingClientRect(); // Gets button position and size
        target.style.setProperty('--mx', (e.clientX - rect.left) + 'px'); // Sets CSS var to cursor X in button
        target.style.setProperty('--my', (e.clientY - rect.top) + 'px');  // Sets CSS var to cursor Y in button
      }
    });

    // IntersectionObserver to add .visible class when elements scroll into view for reveal animation
    const io = new IntersectionObserver((entries) => { // Creates observer for viewport visibility
      entries.forEach((entry) => { // Iterates through observed elements
        if (entry.isIntersecting) { // If element is in viewport
          entry.target.classList.add('visible'); // Adds class that triggers reveal keyframes
          io.unobserve(entry.target); // Unobserves to run animation only once
        }
      });
    }, { threshold: 0.15 }); // Triggers when 15% of element is visible

    // Observe all elements with .reveal for scroll-triggered entrance
    document.querySelectorAll('.reveal').forEach(el => io.observe(el)); // Attaches observer to each reveal element

    // Builds a multiplication table for a given number and range using a loop and animates rows
    function renderMultiplicationTable(tableId, labelId, n, range) {
      const tbody = document.querySelector('#' + tableId + ' tbody'); // Gets table body to insert rows
      const labelEl = document.getElementById(labelId); // Gets label span to show current number
      tbody.innerHTML = ''; // Clears previous rows for fresh render

      if (n === null || Number.isNaN(n)) { // Validates input
        labelEl.textContent = '—'; // Shows dash when no number given
        const tr = document.createElement('tr'); // Creates a table row
        const td = document.createElement('td'); // Creates a cell
        td.colSpan = 3; // Spans across three columns to center note
        td.className = 'muted'; // Styles text as muted
        td.textContent = 'No number provided'; // Friendly message
        tr.appendChild(td); // Puts cell into row
        tbody.appendChild(tr); // Adds row into the table body
        return []; // Returns empty list because no products
      }

      if (!range || range < 1) range = 10; // Defaults range to 10 if empty/invalid

      labelEl.textContent = n; // Displays the number used for this table

      const products = []; // Will collect all products for Odd/Even split
      for (let i = 1; i <= range; i++) { // Loops 1..range to generate each row
        const product = n * i; // Multiplies current step with input number
        products.push(product); // Stores product for later categorization

        const tr = document.createElement('tr'); // Creates a new table row
        const cells = [i, `${n} × ${i}`, product]; // Prepares cell contents (index, expression, result)

        for (let j = 0; j < cells.length; j++) { // Inner loop creates each cell in the row
          const td = document.createElement('td'); // Makes a table cell
          td.textContent = cells[j]; // Sets cell text to matching value
          tr.appendChild(td); // Appends cell into the current row
        }

        tbody.appendChild(tr); // Appends the fully built row to the table body

        // Staggered animation: delay each row slightly for a cascade effect
        const delay = i * 60; // Computes delay in ms proportional to row index
        setTimeout(() => { // Schedules class addition after delay
          tr.classList.add('show'); // Adds class that triggers rowIn keyframes
        }, delay); // Delays increase per row for cascading animation
      }

      return products; // Returns list of computed products
    }

    // Splits a list of numbers into odd and even using modulus; returns both arrays
    function splitOddEven(list) {
      const odd = []; // Will store odd numbers
      const even = []; // Will store even numbers
      for (let i = 0; i < list.length; i++) { // Loops through each number
        const v = list[i]; // Current value
        if (v % 2 === 0) { // Checks if divisible by 2 (even)
          even.push(v); // Adds to even list
        } else {
          odd.push(v); // Adds to odd list
        }
      }
      return { odd, even }; // Returns categorized results
    }

    // Renders a list of numbers as animated pills with staggered pop-in
    function renderPills(containerId, values, type) {
      const el = document.getElementById(containerId); // Gets the container
      el.innerHTML = ''; // Clears previous content

      if (!values.length) { // Handles empty list
        el.className = 'muted'; // Styles as muted
        el.textContent = 'None'; // Shows placeholder text
        return; // Nothing else to do
      }

      el.className = ''; // Removes muted style if present
      for (let i = 0; i < values.length; i++) { // Loops through values
        const span = document.createElement('span'); // Creates a pill element
        span.className = 'pill ' + type; // Applies pill base and odd/even color
        span.textContent = String(values[i]); // Sets displayed number
        el.appendChild(span); // Inserts the pill into the container

        // Staggered pop animation per pill for satisfying sequence
        setTimeout(() => { // Schedules class toggle
          span.classList.add('show'); // Triggers pop keyframes
        }, i * 70); // Delay increases with index for wave effect
      }
    }

    // Main click handler wires everything: builds tables, computes odd/even, and animates
    document.getElementById('build').addEventListener('click', () => { // Reacts to button click
      const n1 = Number(document.getElementById('n1').value); // Parses first number input
      const r1 = Number(document.getElementById('r1').value); // Parses first range input
      const n2raw = document.getElementById('n2').value; // Reads raw second input (may be empty)
      const r2 = Number(document.getElementById('r2').value); // Parses second range
      const n2 = n2raw !== '' ? Number(n2raw) : null; // Converts to number or null if blank

      const list1 = renderMultiplicationTable('t1', 'label1', n1, r1); // Builds first table with animations
      const list2 = renderMultiplicationTable('t2', 'label2', n2, r2); // Builds second table with animations

      const combined = list1.concat(list2); // Merges both result lists for categorization
      const { odd, even } = splitOddEven(combined); // Splits into odd/even using modulus rule

      renderPills('odd', odd, 'odd'); // Displays odd set with animated pills
      renderPills('even', even, 'even'); // Displays even set with animated pills
    });
  </script>
</body>
</html>
